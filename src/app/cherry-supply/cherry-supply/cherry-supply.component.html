<div class="row">
  <div class="col-sm-4">
    <div class="row">
      <div class="col-sm-6">
        <br>
        REG number
      </div>
      <div class="col-sm-6">
        <br>
        <span style="font-weight: bold;"> {{ regNumber|uppercase }} </span><br>
      </div>
    </div>
  </div>
</div>
<br/> <br/>
<app-list-errors [errorList]="errors"></app-list-errors>
<app-list-message [message]="message"></app-list-message>
<form [formGroup]="recordCherryDeliveryForm" (ngSubmit)="onSaveSupply()">
  <div class="row">
    <div class="col-xs-6">
      <div class="form-group">
        <label class="control-label label-required">Cherries Qty</label>
        <input type="text" formControlName="cherriesQty" class="form-control">
      </div>
    </div>
    <div class="col-xs-6">
      <div class="form-group">
        <label class="control-label label-required">Unit price per Kg</label>
        <input type="text" formControlName="unitPerKg" class="form-control">
      </div>
    </div>
  </div>
  <div class="row" style="margin-bottom: 15px;">
    <div class="col-xs-12">
      <button appRequiredSeason class="btn btn-success pull-right"><i class="fa fa-shopping-cart"></i> add</button>
    </div>
  </div>
</form>
<hr>
<div class="row" style="margin-bottom: 15px;">
  <div class="col-xs-12">
    <form [formGroup]="filterSuppliesForm">
      <div class="form-inline pull-left">
        <label class="control-label">Select</label> &nbsp;
        <select class="form-control"  formControlName="suppliesFilter">
          <option value="all">All</option>
          <option value="unapproved_delivery">Unapproved delivery</option>
          <option value="unpaid_delivery">Unpaid delivery</option>
          <option value="unapproved_payment">Unapproved payment</option>
        </select>
      </div>
    </form>
    <form [formGroup]="paySuppliesForm"  (ngSubmit)="onSavePay()">
      <button appRequiredSeason class="btn btn-success pull-right btn-margin"><i class="fa fa-money"></i> Pay</button>
      <div class="form-inline pull-right">
        <label class="control-label">Paid amount</label> &nbsp; &nbsp;
        <input type="text" formControlName="paidAmount" class="form-control">
        <span style="margin-left: 5px">
          Rwf
        </span>
      </div>
      <div class="form-inline pull-right" style="margin-right: 15px; margin-top: 6px">
        <label class="control-label">Owed amount</label> &nbsp; &nbsp;
        <span style="color: #367fa9"> {{ totalAmountToPay }} </span>
        <span style="margin-left: 5px">
          Rwf
        </span>
      </div>
    </form>
  </div>
</div>
<div class="row">
  <div class="col-xs-12">
    <div class="box">
      <div class="box-body">
        <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover table table-condensed">
          <thead>
          <tr>
            <th></th>
            <th>Reg number</th>
            <th>Firstname</th>
            <th>Surname</th>
            <th>CherriesQty</th>
            <th>Unit per Kg</th>
            <th>Paid amount</th>
            <th>Payment status</th>
            <th>Date</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let supply of cherrySupplies">
            <td> <div *ngIf="supply.owedAmount > 0"><input type="checkbox" (click)="selectSupply($event.target.checked, supply)"> </div></td>
            <td> {{ supply.farmer.regNumber }}</td>
            <td> {{ supply.farmer.foreName }}</td>
            <td> {{ supply.farmer.surname }}</td>
            <td> {{ supply.cherriesQty }}</td>
            <td> {{ supply.unitPerKg }}</td>
            <td> {{ supply.paidAmount }}</td>
            <td> <span style="color: #dca956">{{ (supply.paymentStatus.split("_")).join(" ") | lowercase }} </span></td>
            <td> {{ supply.updatedAt | date }}</td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-xs-12">
    <a class="btn btn-warning btn-margin pull-right" (click)="onCancel()">Back</a>
  </div>
</div>



