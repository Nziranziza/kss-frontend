<div>
  <form [formGroup]="reportForm">
    <div class="row">
      <div class="col-xs-4">
        <div>
          <h5 class="label-required">Filter Reports for</h5>
          <select class="form-control" formControlName="reportFor">
            <option value="" selected>Select Report Type</option>
            <option value="training">Training</option>
            <option value="farmerGroup">Farmer Groups</option>
            <option value="farmVisit">Farm Visit</option>
            <option value="coffeeFarmer">Cofee Farmer</option>
            <option value="coffeeFarm">Cofee Farm</option>
          </select>
        </div>
      </div>
      <div class="col-xs-8">
        <div class="row">
          <div class="col-xs-6">
            <h5 class="label-required text-center">Filters</h5>
            <div class="row" formGroupName="location">
              <div class="col-xs-6" id="location-province">
                <select class="form-control" formControlName="prov_id">
                  <option value="" selected>All Provinces</option>
                  <option
                    *ngFor="let province of locationProvinces"
                    value="{{ province._id }}"
                  >
                    {{ province.namee | titlecase }}
                  </option>
                </select>
              </div>
              <div class="col-xs-6">
                <select class="form-control" formControlName="dist_id">
                  <option value="" selected>All Districts</option>
                  <option
                    *ngFor="let district of locationDistricts"
                    value="{{ district._id }}"
                  >
                    {{ district.name | titlecase }}
                  </option>
                </select>
              </div>
            </div>
          </div>
          <div class="col-xs-3">
            <div class="text-center">
              <h5 class="label-required text-center">Filter By CWS</h5>
              <input
                type="radio"
                formControlName="filterByType"
                value="cws"
                style="margin-top: 5px"
              />
            </div>
          </div>
          <div class="col-xs-3">
            <div class="text-center">
              <h5 class="label-required text-center">Filter By Sector</h5>
              <input
                type="radio"
                formControlName="filterByType"
                value="sector"
                style="margin-top: 5px"
              />
            </div>
          </div>
        </div>
        <div class="row">
          <span *ngIf="reportForm.value.filterByType === 'cws'">
            <div class="col-xs-3" style="margin-top: 5px">
              <select class="form-control">
                <option value="" selected>All CWS</option>
                <option value="training">Training</option>
              </select>
            </div>
            <div class="col-xs-3" style="margin-top: 5px">
              <select class="form-control">
                <option value="" selected>All Covered Sector</option>
                <option value="training">Training</option>
              </select>
            </div>
            <div class="col-xs-3" style="margin-top: 5px">
              <select class="form-control">
                <option value="" selected>All Covered Cells</option>
                <option value="training">Training</option>
              </select>
            </div>
            <div class="col-xs-3" style="margin-top: 5px">
              <select class="form-control">
                <option value="" selected>All Covered Villages</option>
                <option value="training">Training</option>
              </select>
            </div>
          </span>
          <span *ngIf="reportForm.value.filterByType === 'sector'">
            <div class="col-xs-3" style="margin-top: 5px">
              <select class="form-control">
                <option value="" selected>All Sectors</option>
                <option value="training">Training</option>
              </select>
            </div>
            <div class="col-xs-3" style="margin-top: 5px">
              <select class="form-control">
                <option value="" selected>All Cells</option>
                <option value="training">Training</option>
              </select>
            </div>
            <div class="col-xs-3" style="margin-top: 5px">
              <select class="form-control">
                <option value="" selected>All Villages</option>
                <option value="training">Training</option>
              </select>
            </div>
            <div class="col-xs-3" style="margin-top: 5px">
              <select class="form-control">
                <option value="" selected>All Farmer Groups</option>
                <option value="training">Training</option>
              </select>
            </div>
          </span>
          <span *ngIf="reportForm.value.reportFor === 'training'">
            <div class="col-xs-4" style="margin-top: 5px">
              <select class="form-control">
                <option value="" selected>Training Module</option>
                <option value="training">Training</option>
              </select>
            </div>
            <div class="col-xs-4" style="margin-top: 5px">
              <select class="form-control">
                <option value="" selected>All Status</option>
                <option value="training">Training</option>
              </select>
            </div>
            <div class="col-xs-4" style="margin-top: 5px">
              <select class="form-control">
                <option value="" selected>All Gender</option>
                <option value="training">Training</option>
              </select>
            </div>
          </span>
          <span *ngIf="reportForm.value.reportFor !== 'farmVisit'">
            <div class="col-xs-6" style="margin-top: 5px">
              <select class="form-control">
                <option value="" selected>Choose Season</option>
                <option
                  *ngFor="let season of seasons"
                  value="season._id"
                  selected
                >
                  {{ season.season }}
                </option>
              </select>
            </div>
            <div class="col-xs-3" style="margin-top: 5px">
              <input
                [owlDateTimeTrigger]="dt1"
                [owlDateTime]="dt1"
                formControlName="sowingDate"
                class="form-control"
                placeholder="Dd/mm/yyyy"
              />
              <owl-date-time [pickerType]="'calendar'" #dt1></owl-date-time>
            </div>
            <div class="col-xs-3" style="margin-top: 5px">
              <input
                [owlDateTimeTrigger]="dt2"
                [owlDateTime]="dt2"
                formControlName="sowingDate"
                class="form-control"
                placeholder="Dd/mm/yyyy"
              />
              <owl-date-time [pickerType]="'calendar'" #dt2></owl-date-time>
            </div>
            <div class="col-xs-12 text-center" style="margin-top: 10px">
              <button class="btn btn-default" type="button">
                GENERATE REPORT
              </button>
            </div>
          </span>
        </div>
      </div>
    </div>
  </form>
  <div class="summary-box"></div>
  <div class="text-center" style="margin-top: 5px">
    <button class="btn btn-default" type="button" style="margin-left: 10px">
      export to PDF
    </button>
    <button class="btn btn-default" type="button" style="margin-left: 10px">
      export to XLS
    </button>
    <button class="btn btn-default" type="button" style="margin-left: 10px">
      export to CSV
    </button>
  </div>
  <div class="box">
    <div class="box-body table-responsive">
      <app-loader *ngIf="loading"></app-loader>
      <table
        datatable
        [dtOptions]="dtOptions"
        [dtTrigger]="dtTrigger"
        class="row-border hover table table-striped"
      >
        <thead *ngIf="reportForm.value.reportFor === 'training'">
          <tr>
            <th>Date Added</th>
            <th>Title</th>
            <th>Description</th>
            <th>Associated GAP</th>
            <th>Attachments</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody *ngIf="reportForm.value.reportFor === 'training'">
          <ng-container *ngFor="let group of groups">
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
          </ng-container>
        </tbody>
        <thead *ngIf="reportForm.value.reportFor === 'farmerGroup'">
          <tr>
            <th>Date added</th>
            <th>Group name</th>
            <th>Group leader names</th>
            <th>Group leader contact</th>
            <th>Address</th>
            <th>Group size</th>
            <th>
              Training <br />
              attendance rate
            </th>
            <th>status</th>
          </tr>
        </thead>
        <tbody *ngIf="reportForm.value.reportFor === 'farmerGroup'">
          <ng-container *ngFor="let group of groups">
            <tr>
              <td>{{ group.createdAt | date: "y/LL/d - h:mm" }}</td>
              <td>{{ group.groupName }}</td>
              <td>{{ group.leaderNames }}</td>
              <td>{{ group.leaderPhoneNumber }}</td>
              <td></td>
              <td>
                <span>{{ group.members.length + " " + "farmers" }}</span>
              </td>
              <td></td>
              <td>
                <span class="profile-text">
                  <ng-container *ngIf="!group.active; else inactive"
                    ><span style="color: green; font-weight: bold">active</span>
                  </ng-container>
                  <ng-template #inactive
                    ><span style="color: #b21717; font-weight: bold"
                      >inactive</span
                    ></ng-template
                  >
                </span>
              </td>
            </tr>
          </ng-container>
        </tbody>
        <thead *ngIf="reportForm.value.reportFor === 'farmVisit'">
          <tr>
            <th>Date Added</th>
            <th>Farm to visit</th>
            <th>Visit Description</th>
            <th>GAP to be Covered</th>
            <th>Visitor</th>
            <th>Date and Time of the visit</th>
            <th>Score</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody *ngIf="reportForm.value.reportFor === 'farmVisit'">
          <ng-container *ngFor="let group of groups">
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
          </ng-container>
        </tbody>
        <thead *ngIf="reportForm.value.reportFor === 'coffeeFarmer'">
          <tr>
            <th>Date added</th>
            <th>Group name</th>
            <th>Group leader names</th>
            <th>Group leader contact</th>
            <th>Address</th>
            <th>Group size</th>
            <th>
              Training <br />
              attendance rate
            </th>
            <th>status</th>
          </tr>
        </thead>
        <tbody *ngIf="reportForm.value.reportFor === 'coffeeFarmer'">
          <ng-container *ngFor="let group of groups">
            <tr>
              <td>{{ group.createdAt | date: "y/LL/d - h:mm" }}</td>
              <td>{{ group.groupName }}</td>
              <td>{{ group.leaderNames }}</td>
              <td>{{ group.leaderPhoneNumber }}</td>
              <td></td>
              <td>
                <span>{{ group.members.length + " " + "farmers" }}</span>
              </td>
              <td></td>
              <td>
                <span class="profile-text">
                  <ng-container *ngIf="!group.active; else inactive"
                    ><span style="color: green; font-weight: bold">active</span>
                  </ng-container>
                  <ng-template #inactive
                    ><span style="color: #b21717; font-weight: bold"
                      >inactive</span
                    ></ng-template
                  >
                </span>
              </td>
            </tr>
          </ng-container>
        </tbody>
        <thead *ngIf="reportForm.value.reportFor === 'coffeeFarm'">
          <tr>
            <th>Date added</th>
            <th>Group name</th>
            <th>Group leader names</th>
            <th>Group leader contact</th>
            <th>Address</th>
            <th>Group size</th>
            <th>
              Training <br />
              attendance rate
            </th>
            <th>status</th>
          </tr>
        </thead>
        <tbody *ngIf="reportForm.value.reportFor === 'coffeeFarm'">
          <ng-container *ngFor="let group of groups">
            <tr>
              <td>{{ group.createdAt | date: "y/LL/d - h:mm" }}</td>
              <td>{{ group.groupName }}</td>
              <td>{{ group.leaderNames }}</td>
              <td>{{ group.leaderPhoneNumber }}</td>
              <td></td>
              <td>
                <span>{{ group.members.length + " " + "farmers" }}</span>
              </td>
              <td></td>
              <td>
                <span class="profile-text">
                  <ng-container *ngIf="!group.active; else inactive"
                    ><span style="color: green; font-weight: bold">active</span>
                  </ng-container>
                  <ng-template #inactive
                    ><span style="color: #b21717; font-weight: bold"
                      >inactive</span
                    ></ng-template
                  >
                </span>
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
</div>
